From fb6905c2bf5820540a51d33c02e5a2be1c95a981 Mon Sep 17 00:00:00 2001
From: Brian Beloshapka <bbelos@hotmail.com>
Date: Fri, 13 Jan 2012 14:29:59 -0600
Subject: [PATCH] Fix 1100 freq. table, tweak 600 & 1300, thanks to toadlife
 tip.


diff --git a/Kernel/arch/arm/mach-s5pv210/cpu-freq.c b/Kernel/arch/arm/mach-s5pv210/cpu-freq.c
index 1e9c439..e046c42 100644
--- a/Kernel/arch/arm/mach-s5pv210/cpu-freq.c
+++ b/Kernel/arch/arm/mach-s5pv210/cpu-freq.c
@@ -154,7 +154,7 @@ static u32 clkdiv_val[NUM_FREQ][11] = {
 	/* L0 : [1400/200/200/100][166/83][133/66][200/200] */
 	{0, 6, 6, 1, 3, 1, 4, 1, 3, 0, 0},
 	/* L1 : [1300/200/200/100][166/83][133/66][200/200] */
-	{0, 5, 5, 1, 3, 1, 4, 1, 3, 0, 0},
+	{0, 6, 6, 1, 3, 1, 4, 1, 3, 0, 0},
 	/* L2 : [1200/200/200/100][166/83][133/66][200/200] */
 	{0, 5, 5, 1, 3, 1, 4, 1, 3, 0, 0},
 	/* L3 : [1100/200/200/100][166/83][133/66][200/200] */
@@ -166,7 +166,7 @@ static u32 clkdiv_val[NUM_FREQ][11] = {
 	/* L6 : [800/200/200/100][166/83][133/66][200/200] */
 	{0, 3, 3, 1, 3, 1, 4, 1, 3, 0, 0},
 	/* L7 : [600/200/200/100][166/83][133/66][200/200] */
-	{1, 3, 2, 1, 3, 1, 4, 1, 3, 0, 0},
+	{1, 2, 2, 1, 3, 1, 4, 1, 3, 0, 0},
 	/* L8 : [400/200/200/100][166/83][133/66][200/200] */
 	{1, 3, 1, 1, 3, 1, 4, 1, 3, 0, 0},
 	/* L9 : [200/200/200/100][166/83][133/66][200/200] */
@@ -193,8 +193,8 @@ static struct s3c_freq clk_info[NUM_FREQ] = {
 		.hclk_tns   = 0,
 		.hclk       = 133000,
 		.pclk       = 66000,
-		.hclk_msys  = 200000,
-		.pclk_msys  = 100000,
+		.hclk_msys  = 185714,
+		.pclk_msys  = 92857,
 		.hclk_dsys  = 166750,
 		.pclk_dsys  = 83375,
 	},
@@ -215,8 +215,8 @@ static struct s3c_freq clk_info[NUM_FREQ] = {
 		.hclk_tns   = 0,
 		.hclk       = 133000,
 		.pclk       = 66000,
-		.hclk_msys  = 200000,
-		.pclk_msys  = 100000,
+		.hclk_msys  = 183333,
+		.pclk_msys  = 91667,
 		.hclk_dsys  = 166750,
 		.pclk_dsys  = 83375,
 	},
diff --git a/Kernel/arch/arm/mach-s5pv210/include/mach/cpu-freq-v210.h b/Kernel/arch/arm/mach-s5pv210/include/mach/cpu-freq-v210.h
index 840a85e..85867ee 100644
--- a/Kernel/arch/arm/mach-s5pv210/include/mach/cpu-freq-v210.h
+++ b/Kernel/arch/arm/mach-s5pv210/include/mach/cpu-freq-v210.h
@@ -22,7 +22,7 @@
 #define APLL_VAL_1332	((1<<31)|(444<<16)|(4<<8)|(0))
 #define APLL_VAL_1300	((1<<31)|(325<<16)|(6<<8)|(0))
 #define APLL_VAL_1200	((1<<31)|(150<<16)|(3<<8)|(1))
-#define APLL_VAL_1100	((1<<31)|(150<<16)|(3<<8)|(1))
+#define APLL_VAL_1100	((1<<31)|(275<<16)|(6<<8)|(1))
 #define APLL_VAL_1000	((1<<31)|(125<<16)|(3<<8)|(1))
 #define APLL_VAL_900	((1<<31)|(225<<16)|(6<<8)|(1))
 #define APLL_VAL_800	((1<<31)|(100<<16)|(3<<8)|(1))
diff --git a/Kernel/arch/arm/plat-s5p/include/plat/pll.h b/Kernel/arch/arm/plat-s5p/include/plat/pll.h
index 86e36a9..c7dfde4 100644
--- a/Kernel/arch/arm/plat-s5p/include/plat/pll.h
+++ b/Kernel/arch/arm/plat-s5p/include/plat/pll.h
@@ -24,7 +24,7 @@
 #define PLL45XX_APLL_VAL_1400	((1 << 31) | (175 << 16) | (3 << 8) | (1))
 #define PLL45XX_APLL_VAL_1300	((1 << 31) | (325 << 16) | (6 << 8) | (1))
 #define PLL45XX_APLL_VAL_1200	((1 << 31) | (150 << 16) | (3 << 8) | (1))
-#define PLL45XX_APLL_VAL_1100	((1 << 31) | (150 << 16) | (3 << 8) | (1))
+#define PLL45XX_APLL_VAL_1100	((1 << 31) | (275 << 16) | (6 << 8) | (1))
 #define PLL45XX_APLL_VAL_1000	((1 << 31) | (125 << 16) | (3 << 8) | (1))
 #define PLL45XX_APLL_VAL_900	((1 << 31) | (225 << 16) | (6 << 8) | (1))
 #define PLL45XX_APLL_VAL_800	((1 << 31) | (100 << 16) | (3 << 8) | (1))
-- 
1.7.5.4

